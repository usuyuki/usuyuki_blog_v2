contactPoints:
  - name: discord-webhook
    receivers:
      - uid: discord-webhook
        type: discord
        settings:
          url: "${DISCORD_WEBHOOK_URL}"
          title: "🚨 {{ .GroupLabels.service | title }} Alert"
          message: |
            **{{ .GroupLabels.alertname }}**
            
            **Service:** {{ .GroupLabels.service }}
            **Severity:** {{ .GroupLabels.severity }}
            
            {{ range .Alerts }}
            📋 **Summary:** {{ .Annotations.summary }}
            📝 **Description:** {{ .Annotations.description }}
            ⏰ **Started:** {{ .StartsAt }}
            
            🔗 **View in Grafana:** ${GRAFANA_BASE_URL}/alerting/list
            🔍 **View Logs:** ${GRAFANA_BASE_URL}/explore?left=%5B%22now-1h%22,%22now%22,%22loki%22,%7B%22expr%22:%22%7Bapp%3D%5C%22{{ .GroupLabels.service }}%5C%22,level%3D%5C%22error%5C%22%7D%22%7D%5D
            
            📄 **Quick Link to Logs:**
            🔍 [View Error Logs in Grafana]({{ .Annotations.runbook_url | default "${GRAFANA_BASE_URL}/explore" }})
            {{ end }}
        disableResolveMessage: false