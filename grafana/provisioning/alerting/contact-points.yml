contactPoints:
  - name: discord-webhook
    receivers:
      - uid: discord-webhook
        type: discord
        settings:
          url: "${DISCORD_WEBHOOK_URL}"
          title: "🚨 {{ .GroupLabels.service | title }} Alert"
          message: |
            **{{ .GroupLabels.alertname }}**
            
            **Service:** {{ .GroupLabels.service }}
            **Severity:** {{ .GroupLabels.severity }}
            **Log Type:** {{ .GroupLabels.log_type }}
            
            {{ range .Alerts }}
            📋 **Summary:** {{ .Annotations.summary }}
            📝 **Description:** {{ .Annotations.description }}
            ⏰ **Started:** {{ .StartsAt }}
            
            🔗 **View in Grafana:** ${GRAFANA_BASE_URL}/alerting/list
            📊 **View Dashboard:** ${GRAFANA_BASE_URL}/d/{{ if eq .GroupLabels.service "astro" }}astro-logs-by-type{{ else if eq .GroupLabels.service "ghost" }}ghost-logs{{ end }}/
            {{ end }}
        disableResolveMessage: false